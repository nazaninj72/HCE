<html>
<head>
	<title></title>
	<script src="js/vendor/d3.min.js" type="text/javascript"></script>
	<script type="text/javascript" src="js/vendor/jquery-2.1.4.min.js"></script>
	<script type="text/javascript" src="js/vendor/jquery-ui.min.js"></script>
	<link rel="stylesheet" href="css/vendor/jquery-ui.min.css">
	<link rel="stylesheet" href="styles.css">
	<script type="text/javascript" src='visDrawer.js'></script>
	<script type="text/javascript" src='treemapDrawer.js'></script>
	<!--<script type="text/javascript" src="flare.json"></script>-->
<script type="text/javascript" src='showVis.js'></script>
</head>
<body>


	<div class ="container">
		<div id="DiffDescription"> Right panel shows the current visualization. Left panel shows the before and after changes in the visualization.</div>
			<!--visualizations go here-->
			<script type="text/javascript">

		   		 var queryString = decodeURIComponent(window.location.search);
		   	   
		   	   	var currentStringindex=queryString.split("=")
		   	   	var currentindx=parseInt(currentStringindex[1])
		   	   	console.log(currentindx)
		   	    var personSarray=[];
		   	   	var compState,visState,changeState,dataState;
			 	window.onload = function() {

 			 		var myArray = sessionStorage.getItem('myArray');
 			 		console.log(myArray)
 			 		personSarray=myArray.split("DOT,")
 			 		console.log(personSarray)
 			 		var states=personSarray[currentindx].split(",");
 			 		compState=states[0];
 			 		visState=states[1];
 			 		changeState=states[2];
 			 		dataState=states[3];
 			 		console.log(compState)
 			 		console.log(visState)
 			 		console.log(changeState)
 			 		console.log(dataState)
 			 		updateVis("#viscontainer","#viscontainer",compState,visState,changeState,dataState)
			 		//updateVis("#viscontainerafter","#viscontainerafter","Diff","treemap","add","small")


			 	}
			 	function submitAnswer(){
			 		alert("press ok to move to the next task")
			 		currentindx++;
			 		var states=personSarray[currentindx].split(",");
			 		compState=states[0];
			 		console.log(compState)
			 		visState=states[1];
			 		changeState=states[2];
			 		dataState=states[3];
			 		//if (compState!="Diff"){//should load next html page
			 			var queryString = "?para1=" + currentindx;
			 			window.location.href = compState+".html" + queryString;
			 			//window.open(comparisonType+".html", "_self");

			 			 sessionStorage.setItem('myArray', myArray);
			 		
			 	}


			</script>
			<div id="viscontainerafter">
				<div id ="currentvis"> Current Visualization</div>
				
			</div>
			<div id="diffshow">
				<div id="beforediff">
					<div id ="beforesmalldiff"> Before</div>
				</div>
				<div id="afterdiff">
					<div id ="aftersmalldiff"> After</div>
				</div> 
			</div>
	</div><div id="questionbar2"> 
					<div  id="questionDescription">
						Please choose the node that you have detected to be moved, added, or removed:
					</div>
						
				

					<div class="questionbar" id="choices">
						<input type="radio" name="first" value="first"/>
						<label id="1choice">
		        			
		        		  </label>
					
						  <input type="radio" id="male" value="second">
						  <label id="2choice">
		        			
		        		  </label>
		        		
		  				
						<input type="radio" name="gender" value="third"> 			
							<label id="3choice">
		        			
		        		  </label>
						<input type="radio" name="gender" value="fourth">
						<label id="4choice">
		    			
		    		  </label> 
					</div>
					<div id="submitbuttondiv">
						<input type="button" class ="submitbutton" id="submit" value="submit" onclick="submitAnswer();">
					</div>
					



				</div>
			


		

</body>