<html>
<head>
	<title></title>
	<script src="js/vendor/d3.min.js" type="text/javascript"></script>
	<script type="text/javascript" src="js/vendor/jquery-2.1.4.min.js"></script>
	<script type="text/javascript" src="js/vendor/jquery-ui.min.js"></script>
	<link rel="stylesheet" href="css/vendor/jquery-ui.min.css">
	<link rel="stylesheet" href="styles.css">
</head>
<script type="text/javascript" src='stateCheck.js'></script>
<script type="text/javascript" src='visDrawer.js'></script>
<script type="text/javascript" src='showVis.js'></script>
<body>


	<div class ="container">
		<div id= "warningbar">
			<p>Please do not refresh the page!</p>
		</div>
		<div id="viscontainer">
			<!--visualizations go here-->
			<!--<script type="text/javascript" src='js/ComparisonTechniques/Animation/AnimateTreeM.js'></script>-->
			<script type="text/javascript">
					 var queryString = decodeURIComponent(window.location.search);
				   
				   	var currentStringindex=queryString.split("=")
				   	var currentindx=parseInt(currentStringindex[1])
				   var personSarray=[];
				   var myArray=[];
				   	var compState,visState,changeState,dataState;
				 	window.onload = function() {
				 		myArray = sessionStorage.getItem('myArray');
				 		personSarray=myArray.split("DOT,")
				 		console.log(personSarray)
				 		var states=personSarray[currentindx].split(",");
				 		compState=states[0];
				 		visState=states[1];
				 		changeState=states[2];
				 		dataState=states[3];
				 		updateVis("#viscontainer","viscontainer",compState,visState,changeState,dataState)
				 		//updateVis("#viscontainer","#viscontainer","Animation","tree","move","small")


				 	}
				 	function submitAnswer(){
				 		alert("press ok to move to the next task")
				 		currentindx++;
				 		var states=personSarray[currentindx].split(",");
				 		compState=states[0];
				 		console.log(compState)
				 		visState=states[1];
				 		changeState=states[2];
				 		dataState=states[3];
				 		if (compState!="Animation"){//should load next html page
				 			var queryString = "?para1=" + currentindx;
				 			window.location.href = compState+".html" + queryString;
				 			//window.open(comparisonType+".html", "_self");

				 			 sessionStorage.setItem('myArray', myArray);

				 		}else{
				 			updateVis("#viscontainer","#viscontainer",compState,visState,changeState,dataState)
				 		}
				 		
				 	}


				

			</script> 


		</div>
		<div id="questionbar"> 
			<p>
				Please write down the name of the node that you have detected to be moved, added, or removed:
			</p>
			<input type="button" class ="submitbutton" id="submit" value="submit" onclick="submitAnswer();">



		</div>
		<div id="buttonsbar">
			<input type="button" class ="animatebutton" id="startbutton" value="start" onclick="startAnimation();">
	         <input type="button" class ="animatebutton" id="resetbutton" value="reset" onclick="resetAnimation();">
		</div>
	</div>
</body>